=== AIDA Bridge Host-Side Diagnostic ===

1. Host-Side Port Monitoring:
=============================
Checking what's listening on port 8000 from HOST machine...
❌ Nothing listening on port 8000 from host

Checking what's listening on port 9000 from HOST machine...
tcp        0      0 0.0.0.0:9000            0.0.0.0:*               LISTEN      -                   
tcp6       0      0 :::9000                 :::*                    LISTEN      -                   

2. Docker Container Port Mapping:
=================================
All taiga containers and their port mappings:
taiga_gateway     Up 25 minutes (healthy)      0.0.0.0:9000->80/tcp, [::]:9000->80/tcp
taiga_front       Up About an hour             80/tcp
taiga_back        Up 5 minutes                 8000/tcp
taiga_events      Up About an hour             8888/tcp
taiga_rabbit      Up About an hour (healthy)   4369/tcp, 5671-5672/tcp, 15691-15692/tcp, 25672/tcp
taiga_postgres    Up About an hour (healthy)   5432/tcp
taiga_protected   Up About an hour             8000/tcp, 8003/tcp
taiga_redis       Up About an hour (healthy)   6379/tcp

3. Test Backend Connectivity from Host:
=======================================
Direct connection test to backend port 8000...
❌ Cannot connect to port 8000 from host

4. Test Nginx Gateway from Host:
================================
Testing nginx on port 9000...
✅ Can connect to port 9000 from host

5. Backend Container Process Check (using Docker):
=================================================
Backend container process info:
/opt/venv/bin/python /opt/venv/bin/gunicorn taiga.wsgi:application --name taiga_api --bind 0.0.0.0:8000 --workers 3 --worker-tmp-dir /dev/shm --log-level=info --access-logfile - 

All processes in backend container:
-r--r--r-- 1 taiga taiga 0 Nov  7 08:28 /proc/1/cmdline
-r--r--r-- 1 root  root  0 Nov  7 08:28 /proc/109/cmdline
-r--r--r-- 1 root  root  0 Nov  7 08:28 /proc/115/cmdline
-r--r--r-- 1 root  root  0 Nov  7 08:28 /proc/116/cmdline
-r--r--r-- 1 taiga taiga 0 Nov  7 08:28 /proc/38/cmdline
-r--r--r-- 1 taiga taiga 0 Nov  7 08:28 /proc/39/cmdline
-r--r--r-- 1 taiga taiga 0 Nov  7 08:28 /proc/40/cmdline

6. Container Network Inspection:
===============================
Inspecting backend container network settings...
172.18.0.7 

Inspecting gateway container network settings...
172.18.0.9 

7. Test Internal Docker Network:
===============================
Testing connectivity from gateway to backend via Docker network...
Gateway IP: 172.18.0.9
Backend IP: 172.18.0.7
✅ Can reach backend from gateway container

8. Final HTTP Test:
===================
Testing /api/v1 endpoint via HTTP...
HTTP Code: 404

=== Host-Side Diagnostic Complete ===
